<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Space Shooting Game</title>
    <link rel="stylesheet" href="assets/css/normalize.css">
    <link rel="stylesheet" href="assets/css/index.css">
    <meta name="viewport" content="width=device-width initial-scale=1">
    <style>

    </style>
</head>
<body>
<section id="home">
    <img src="assets/images/galactic-night-sky-astronomy-science-combined-generative-ai.jpg">
    <h1>Select ship to continue</h1>
    <div id="ship1">
        <img class="ships" src="assets/images/ship1.png">
    </div>
    <div id="ship2">
        <img class="ships" src="assets/images/ship2.png">
    </div>
    <div id="ship3">
        <img class="ships" src="assets/images/ship3.png">
    </div>
</section>
<section id="player">
    <img src="assets/images/low-angle-shot-mesmerizing-starry-sky.jpg">
    <img id="selected-ship" src="">
</section>
<script src="assets/js/jquery-3.7.0.min.js"></script>
<script src="assets/js/home-section.js"></script>
<script>
    function hideSection() {
        document.getElementById("home").style.display = "none";
    }

    function setSelectedShip(ship) {
        document.getElementById("selected-ship").setAttribute('src', ship);
    }

    let bottomDisplay = 0, leftDisplay = 0;
    let heightAsNumber, widthAsNumber;
    let viewPortWidth, viewPortHeight;
    $(window).keydown(function (e) {
        viewPortWidth = $("#player").css("width");
        viewPortHeight = $("#player").css("height");
        heightAsNumber = parseInt(viewPortHeight, 10);
        widthAsNumber = parseInt(viewPortWidth, 10);
        if (e.key === "ArrowUp" || e.key === "w") {
            if (heightAsNumber - 100 > bottomDisplay) {
                bottomDisplay = bottomDisplay + 1;
                $("#selected-ship").css("bottom", bottomDisplay + "px");
            }
        } else if (e.key === "ArrowLeft" || e.key === "a") {
            if (0 < leftDisplay) {
                leftDisplay = leftDisplay - 2;
                $("#selected-ship").css("left", leftDisplay + "px");
            }
        } else if (e.key === "ArrowDown" || e.key === "s") {
            if (0 < bottomDisplay) {
                bottomDisplay = bottomDisplay - 1;
                $("#selected-ship").css("bottom", bottomDisplay + "px");
            }
        } else if (e.key === "ArrowRight" || e.key === "d") {
            if (widthAsNumber - 100 > leftDisplay) {
                leftDisplay = leftDisplay + 2;
                $("#selected-ship").css("left", leftDisplay + "px");
            }
        }
    });

    $(window).click(function (e) {
        const divElement = document.createElement('div');

        divElement.id = 'myDiv';
        divElement.className = 'my-class';
        divElement.style.backgroundColor = '#00a9ff';
        divElement.style.width = '6px';
        divElement.style.height = '20px';
        divElement.style.margin = '0';
        divElement.style.borderRadius = '50px';
        divElement.style.position = 'absolute';
        divElement.style.bottom = bottomDisplay + 50 + 'px';
        divElement.style.left = leftDisplay + 47 + 'px';
        divElement.style.boxShadow = '0px 6px 9px 4px #2196F3';

        const intervalID = setInterval(fair, 1);
        let y = bottomDisplay + 50;

        viewPortHeight = $("#player").css("height");
        heightAsNumber = parseInt(viewPortHeight, 10);

        function fair() {
            if (y >= heightAsNumber) {
                clearInterval(intervalID);
                divElement.remove();
            }else {
                y++;
                divElement.style.bottom = y + 'px';
            }
        }
        document.body.appendChild(divElement);
    });


</script>
</body>
</html>